var duScrollDefaultEasing=function(t){"use strict";return.5>t?Math.pow(2*t,2)/2:1-Math.pow(2*(1-t),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollActivateBottomSpy",!0),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset",function(t,e,n,r,o,l,i){"use strict";var c=angular.element.prototype,u=function(t){return"undefined"!=typeof HTMLDocument&&t instanceof HTMLDocument||t.nodeType&&t.nodeType===t.DOCUMENT_NODE},a=function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t.nodeType&&t.nodeType===t.ELEMENT_NODE},s=function(t){return a(t)||u(t)?t:t[0]};c.scrollTo=function(e,n,r){var o;if(angular.isElement(e)?o=this.scrollToElement:r&&(o=this.scrollToAnimated),o)return o.apply(this,arguments);var l=s(this);return u(l)?t.scrollTo(e,n):(l.scrollLeft=e,l.scrollTop=n,void 0)};var d,f;c.scrollToAnimated=function(t,l,i,c){i&&!c&&(c=o);var u=this.scrollLeft(),a=this.scrollTop(),s=Math.round(t-u),p=Math.round(l-a),m=null,g=this,v="scroll mousedown mousewheel touchmove keydown",h=function(t){(!t||t.which>0)&&(g.unbind(v,h),n(d),f.reject(),d=null)};if(d&&h(),f=e.defer(),!s&&!p)return f.resolve(),f.promise;var y=function(t){null===m&&(m=t);var e=t-m,n=e>=i?1:c(e/i);g.scrollTo(u+Math.ceil(s*n),a+Math.ceil(p*n)),1>n?d=r(y):(g.unbind(v,h),d=null,f.resolve())};return g.scrollTo(u,a),g.bind(v,h),d=r(y),f.promise},c.scrollToElement=function(t,e,n,r){var o=s(this);(!angular.isNumber(e)||isNaN(e))&&(e=i);var l=this.scrollTop()+s(t).getBoundingClientRect().top-e;return a(o)&&(l-=o.getBoundingClientRect().top),this.scrollTo(0,l,n,r)};var p={scrollLeft:function(e,n,r){if(angular.isNumber(e))return this.scrollTo(e,this.scrollTop(),n,r);var o=s(this);return u(o)?t.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},scrollTop:function(e,n,r){if(angular.isNumber(e))return this.scrollTo(this.scrollTop(),e,n,r);var o=s(this);return u(o)?t.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop}};c.scrollToElementAnimated=function(t,e,n,r){return this.scrollToElement(t,e,n||l,r)},c.scrollTopAnimated=function(t,e,n){return this.scrollTop(t,e||l,n)},c.scrollLeftAnimated=function(t,e,n){return this.scrollLeft(t,e||l,n)};var m=function(t,e){return function(){return e.apply(this,arguments)}};for(var g in p)c[g]=c[g]?m(c[g],p[g]):p[g]}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(t){"use strict";var e=["webkit","moz","o","ms"];return function(n,r){if(t[n])return t[n];for(var o,l=n.substr(0,1).toUpperCase()+n.substr(1),i=0;i<e.length;i++)if(o=e[i]+l,t[o])return t[o];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(t,e){"use strict";var n=0,r=function(t){var r=(new Date).getTime(),o=Math.max(0,16-(r-n)),l=e(function(){t(r+o)},o);return n=r+o,l};return t("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(t,e){"use strict";var n=function(t){e.cancel(t)};return t("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollActivateBottomSpy",function(t,e,n,r,o,l,i,c){"use strict";var u=function(o){var u=!1,a=!1,s=function(){a=!1;var e=o.container,i=e[0],u=0,s="undefined"!=typeof HTMLElement&&i instanceof HTMLElement||i.nodeType&&i.nodeType===i.ELEMENT_NODE;s&&(u=i.getBoundingClientRect().top);var d,f,p,m,g,v;m=o.spies,f=o.currentlyActive,p=void 0;var h=i.scrollTop+i.clientHeight>=i.scrollHeight,y=n.scrollY+n.innerHeight>=r[0].body.scrollHeight;if(c&&(s&&h||!s&&y)){var S=function(){var t,e=-1/0,n=null;for(d=0;d<m.length;++d)m[d].target&&(t=m[d].getTargetPosition().bottom,t>e&&(e=t,n=d));return{spy:m[n],top:e}};p=S()}else for(d=0;d<m.length;d++)g=m[d],v=g.getTargetPosition(),v&&v.top+g.offset-u<20&&-1*v.top+u<v.height&&(!p||p.top<v.top)&&(p={top:v.top,spy:g});p&&(p=p.spy),f===p||l&&!p||(f&&(f.$element.removeClass("active"),t.$broadcast("duScrollspy:becameInactive",f.$element)),p&&(p.$element.addClass("active"),t.$broadcast("duScrollspy:becameActive",p.$element)),o.currentlyActive=p)};return i?function(){u?a=!0:(s(),u=e(function(){u=!1,a&&s()},i,!1))}:s},a={},s=function(t){var e=t.$id,n={spies:[]};return n.handler=u(n),a[e]=n,t.$on("$destroy",function(){d(t)}),e},d=function(t){var e=t.$id,n=a[e],r=n.container;r&&r.off("scroll",n.handler),delete a[e]},f=s(t),p=function(t){return a[t.$id]?a[t.$id]:t.$parent?p(t.$parent):a[f]},m=function(t){var e,n,r=t.$element.scope();if(r)return p(r);for(n in a)if(e=a[n],-1!==e.spies.indexOf(t))return e},g=function(t){for(;t.parentNode;)if(t=t.parentNode,t===document)return!0;return!1},v=function(t){var e=m(t);e&&(e.spies.push(t),e.container&&g(e.container)||(e.container&&e.container.off("scroll",e.handler),e.container=o.getContainer(t.$element.scope()),e.container.on("scroll",e.handler).triggerHandler("scroll")))},h=function(t){var e=m(t);t===e.currentlyActive&&(e.currentlyActive=null);var n=e.spies.indexOf(t);-1!==n&&e.spies.splice(n,1),t.$element=null};return{addSpy:v,removeSpy:h,createContext:s,destroyContext:d,getContextForScope:p}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(t){"use strict";var e={},n=function(t,n){var r=t.$id;return e[r]=n,r},r=function(t){return e[t.$id]?t.$id:t.$parent?r(t.$parent):void 0},o=function(n){var o=r(n);return o?e[o]:t},l=function(t){var n=r(t);n&&delete e[n]};return{getContainerId:r,getContainer:o,setContainer:n,removeContainer:l}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(t,e,n){"use strict";return{link:function(r,o,l){o.on("click",function(o){if(l.href&&-1!==l.href.indexOf("#")){var i=document.getElementById(l.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(i&&i.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var c=l.offset?parseInt(l.offset,10):e,u=l.duration?parseInt(l.duration,10):t,a=n.getContainer(r);a.scrollToElement(angular.element(i),isNaN(c)?0:c,isNaN(u)?0:u)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e){t.createContext(e)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,n,r){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,t.setContainer(e,r),e.$on("$destroy",function(){t.removeContainer(e)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(t,e,n,r){"use strict";var o=function(t,e,n){angular.isElement(t)?this.target=t:angular.isString(t)&&(this.targetId=t),this.$element=e,this.offset=n};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)),this.target},o.prototype.getTargetPosition=function(){var t=this.getTargetElement();return t?t.getBoundingClientRect():void 0},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(l,i,c){var u,a=c.ngHref||c.href;a&&-1!==a.indexOf("#")?u=a.replace(/.*(?=#[^\s]+$)/,"").substring(1):c.duScrollspy&&(u=c.duScrollspy),u&&n(function(){var n=new o(u,i,-(c.offset?parseInt(c.offset,10):e));t.addSpy(n),l.$on("$destroy",function(){t.removeSpy(n)}),l.$on("$locationChangeSuccess",n.flushTargetCache.bind(n)),r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n))},0,!1)}}}]);
//# sourceMappingURL=angular-scroll.min.js.map